<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkibidiChess :: Register Account</title>
    <link rel="stylesheet" href="../Style/output.css">
    <script src="../Backend/auth/js/script.js"></script>
    <link rel="shortcut icon" href="../Assets/Images/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="bg-[#302E2B]">
    <script> 
        function validateInput(){
            const regex = /^[a-zA-Z0-9_]{3,24}$/;
            if(document.getElementById('password').value == "" || document.getElementById('username').value == "" || regex.test(document.getElementById('username').value) == false){
                document.querySelector('#nvc').style.display = "block";
                document.querySelector('#wce').style.display = 'none';
            }
            else
            {    
                checkLogin();
            }
        }
        </script>
    <img src="../Assets/Images/Logo.png" class="w-[25%] mb-[5vh] text-center mx-auto mt-15">
    <form id="auth" class="w-[450px] mx-auto mt-[5px] p-[20px] bg-[#1c1a19] rounded-[10px]" onsubmit="event.preventDefault(); validateInput();">
        <div class="flex space-x-4">
            <div class="w-1/2">
                <p class="text-neutral-50 pb-1 pl-0.5">Name</p>
                <input
                    class="mb-3 bg-[#22201e] px-4 py-3 outline-none w-full text-white rounded-lg border-2 transition-colors duration-100 border-solid focus:border-[#81b64c] border-[#1c1a19]"
                    name="user"
                    placeholder="Enter your name"
                    id="username"
                    type="text"/>
            </div>
            <div class="w-1/2">
                <p class="text-neutral-50 pb-1 pl-0.5">Surname</p>
                <input
                    class="mb-3 bg-[#22201e] px-4 py-3 outline-none w-full text-white rounded-lg border-2 transition-colors duration-100 border-solid focus:border-[#81b64c] border-[#1c1a19]"
                    name="user"
                    placeholder="Enter your surname"
                    id="surname"
                    type="text"/>
            </div>
        </div>
        <p class="text-neutral-50 pb-1 pl-0.5">Username</p>
        <input
            class="mb-3 bg-[#22201e] px-4 py-3 outline-none w-[100%] text-white rounded-lg border-2 transition-colors duration-100 border-solid focus:border-[#81b64c] border-[#1c1a19]"
            name="user"
            placeholder="Enter your username"
            id="username"
            type="text"/>
        <p class="text-neutral-50 pb-1 pl-0.5">Email</p>
        <input
            class="mb-3 bg-[#22201e] px-4 py-3 outline-none w-[100%] text-white rounded-lg border-2 transition-colors duration-100 border-solid focus:border-[#81b64c] border-[#1c1a19]"
            name="email"
            placeholder="Enter your email"
            id="email"
            type="email"/>
        <p class="text-neutral-50 pb-1 pl-0.5">Password</p>
        <div class="relative mb-3">
            <input
            class="bg-[#22201e] px-4 py-3 outline-none w-[100%] text-white rounded-lg border-2 transition-colors duration-100 border-solid focus:border-[#81b64c] border-[#1c1a19]"
            name="psswd"
            placeholder="Enter your password"
            id="password"
            type="password"/>
            <span onclick="togglePasswordVisibility()" style="position: absolute; top: 55%; right: 10px; transform: translateY(-50%); cursor: pointer;"><i class="fa fa-eye" style="font-size:24px;color: rgb(170, 170, 170); margin-right: 10px;"></i></span>
        </div>

    <script>
        function togglePasswordVisibility() {
        const pwd = document.getElementById('password');
        pwd.type = pwd.type === 'password' ? 'text' : 'password';
        }
    </script>
        <div role="alert" class="mt-1 mb-1" style="display: none;" id="wce">
            <div class="bg-red-500 text-white font-bold rounded-t px-4 py-2">
                Warning
            </div>
            <div class="border border-t-0 border-red-400 rounded-b bg-red-100 px-4 py-3 text-red-700">
                <p>Wrong username or password.</p>
            </div>
        </div>
        <div role="alert" class="mt-1 mb-1" style="display: none;" id="nvc">
            <div class="bg-orange-500 text-white font-bold rounded-t px-4 py-2">
                Warning
            </div>
            <div class="border border-t-0 border-orange-400 rounded-b bg-red-100 px-4 py-3 text-orange-700">
                <p>Insert valid credentials.</p>
            </div>
        </div>
        <button id="Button" type="submit" class="mt-1.5 GreenBtn w-[100%] h-[50px] text-[1vw]">Register an account</button>
    </form>
</body>
</html>